# üóÑÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è FlowBox

## –ß—Ç–æ —Ç–∞–∫–æ–µ Render.com?

**Render.com** ‚Äî —ç—Ç–æ –æ–±–ª–∞—á–Ω—ã–π —Ö–æ—Å—Ç–∏–Ω–≥ (–∫–∞–∫ Heroku), –≥–¥–µ —É —Ç–µ–±—è —É–∂–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç –±–æ—Ç. –≠—Ç–æ —Å–µ—Ä–≤–∏—Å, –∫–æ—Ç–æ—Ä—ã–π:
- –ó–∞–ø—É—Å–∫–∞–µ—Ç —Ç–≤–æ–π Node.js —Å–µ—Ä–≤–µ—Ä
- –î–∞–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π URL –¥–ª—è –±–æ—Ç–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –∫–æ–¥ –ø—Ä–∏ push –≤ GitHub

## –ó–∞—á–µ–º –Ω—É–∂–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö?

–°–µ–π—á–∞—Å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `user-data.json`, –∫–æ—Ç–æ—Ä—ã–π:
- ‚ùå –ú–æ–∂–µ—Ç —Ç–µ—Ä—è—Ç—å—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–µ—Ä–∞
- ‚ùå –ù–µ—É–¥–æ–±–Ω–æ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∑–∞–∫–∞–∑—ã
- ‚ùå –ù–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ

–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL:
- ‚úÖ –ù–∞–¥–µ–∂–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –£–¥–æ–±–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–∫–∞–∑–æ–≤ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–µ–ª–∞—Ç—å –æ—Ç—á–µ—Ç—ã –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫—É
- ‚úÖ –î–∞–Ω–Ω—ã–µ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ Telegram ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

## üöÄ –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (Supabase - 5 –º–∏–Ω—É—Ç)

### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –≤ Supabase

1. –ó–∞–π–¥–∏ –Ω–∞ **https://supabase.com**
2. –ù–∞–∂–º–∏ **"Start your project"** (–º–æ–∂–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ GitHub)
3. –°–æ–∑–¥–∞–π –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç:
   - **–ù–∞–∑–≤–∞–Ω–∏–µ**: `flowbox` (–∏–ª–∏ –ª—é–±–æ–µ –¥—Ä—É–≥–æ–µ)
   - **–ü–∞—Ä–æ–ª—å**: –ø—Ä–∏–¥—É–º–∞–π –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å (—Å–æ—Ö—Ä–∞–Ω–∏ –µ–≥–æ!)
   - **–†–µ–≥–∏–æ–Ω**: –≤—ã–±–µ—Ä–∏ –±–ª–∏–∂–∞–π—à–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, `West US` –∏–ª–∏ `Europe West`)
4. –ü–æ–¥–æ–∂–¥–∏ 2-3 –º–∏–Ω—É—Ç—ã, –ø–æ–∫–∞ –ø—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–µ—Ç—Å—è

### –®–∞–≥ 2: –í—ã–ø–æ–ª–Ω–∏—Ç—å SQL —Å—Ö–µ–º—É

1. –í –ª–µ–≤–æ–º –º–µ–Ω—é Supabase –≤—ã–±–µ—Ä–∏ **SQL Editor**
2. –ù–∞–∂–º–∏ **New query**
3. –û—Ç–∫—Ä–æ–π —Ñ–∞–π–ª `database/schema.sql` –∏–∑ —ç—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
4. –°–∫–æ–ø–∏—Ä—É–π –≤–µ—Å—å —Ç–µ–∫—Å—Ç –∏ –≤—Å—Ç–∞–≤—å –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä
5. –ù–∞–∂–º–∏ **Run** (–∏–ª–∏ `Cmd+Enter` / `Ctrl+Enter`)
6. –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ **"Success. No rows returned"**

### –®–∞–≥ 3: –ü–æ–ª—É—á–∏—Ç—å —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

1. –í –ª–µ–≤–æ–º –º–µ–Ω—é –≤—ã–±–µ—Ä–∏ **Project Settings** (—à–µ—Å—Ç–µ—Ä–µ–Ω–∫–∞ –≤–Ω–∏–∑—É)
2. –ü–µ—Ä–µ–π–¥–∏ –≤ —Ä–∞–∑–¥–µ–ª **Database**
3. –ù–∞–π–¥–∏ —Å–µ–∫—Ü–∏—é **Connection string**
4. –í—ã–±–µ—Ä–∏ **URI** –∏ —Å–∫–æ–ø–∏—Ä—É–π —Å—Ç—Ä–æ–∫—É
5. –û–Ω–∞ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫: `postgresql://postgres:[YOUR-PASSWORD]@db.xxx.supabase.co:5432/postgres`
6. –ó–∞–º–µ–Ω–∏ `[YOUR-PASSWORD]` –Ω–∞ –ø–∞—Ä–æ–ª—å, –∫–æ—Ç–æ—Ä—ã–π —Ç—ã —Å–æ–∑–¥–∞–ª –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞

### –®–∞–≥ 4: –î–æ–±–∞–≤–∏—Ç—å –≤ Render.com

1. –ó–∞–π–¥–∏ –≤ —Å–≤–æ–π –ø—Ä–æ–µ–∫—Ç –Ω–∞ **Render.com**
2. –ü–µ—Ä–µ–π–¥–∏ –≤ **Environment** (–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è)
3. –î–æ–±–∞–≤—å –Ω–æ–≤—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é:
   - **Key**: `DATABASE_URL`
   - **Value**: –≤—Å—Ç–∞–≤—å —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏–∑ —à–∞–≥–∞ 3 (—Å –∑–∞–º–µ–Ω–µ–Ω–Ω—ã–º –ø–∞—Ä–æ–ª–µ–º)
4. –ù–∞–∂–º–∏ **Save Changes**
5. Render –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç —Å–µ—Ä–≤–µ—Ä

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É

1. –û—Ç–∫—Ä–æ–π MiniApp –≤ Telegram
2. –î–æ–±–∞–≤—å —Ç–æ–≤–∞—Ä –≤ –∫–æ—Ä–∑–∏–Ω—É
3. –ó–∞–π–¥–∏ –≤ Supabase ‚Üí **Table Editor** ‚Üí **users** ‚Äî –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –Ω–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
4. –ó–∞–π–¥–∏ –≤ **addresses** ‚Äî –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –∞–¥—Ä–µ—Å–∞, –µ—Å–ª–∏ —Ç—ã –∏—Ö –¥–æ–±–∞–≤–∏–ª
5. –°–¥–µ–ª–∞–π —Ç–µ—Å—Ç–æ–≤—ã–π –∑–∞–∫–∞–∑
6. –ó–∞–π–¥–∏ –≤ **orders** ‚Äî –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –∑–∞–∫–∞–∑

---

## üìä –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö –≤ Supabase

### Table Editor (–ø—Ä–æ—Å—Ç–æ–π –ø—Ä–æ—Å–º–æ—Ç—Ä)
- **users** ‚Äî –≤—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- **addresses** ‚Äî –≤—Å–µ –∞–¥—Ä–µ—Å–∞
- **orders** ‚Äî –≤—Å–µ –∑–∞–∫–∞–∑—ã
- **order_items** ‚Äî –ø–æ–∑–∏—Ü–∏–∏ –≤ –∑–∞–∫–∞–∑–∞—Ö

### SQL Editor (–ø–æ–ª–µ–∑–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã)

```sql
-- –í—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–∫–∞–∑—ã
SELECT * FROM orders WHERE status = 'active' ORDER BY created_at DESC;

-- –ó–∞–∫–∞–∑ —Å –ø–æ–∑–∏—Ü–∏—è–º–∏
SELECT 
    o.*,
    json_agg(oi.*) as items
FROM orders o
LEFT JOIN order_items oi ON o.id = oi.order_id
WHERE o.id = 1
GROUP BY o.id;

-- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å –∏—Ö –∞–¥—Ä–µ—Å–∞–º–∏
SELECT 
    u.telegram_id,
    u.first_name,
    u.phone,
    json_agg(a.*) as addresses
FROM users u
LEFT JOIN addresses a ON u.id = a.user_id
GROUP BY u.id;
```

---

## üîÑ –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏?

1. **–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
   - –°–æ–∑–¥–∞–µ—Ç—Å—è –∑–∞–ø–∏—Å—å –≤ —Ç–∞–±–ª–∏—Ü–µ `users`
   - –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –∏–∑ Telegram (–∏–º—è, username)

2. **–ü—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –∞–¥—Ä–µ—Å–∞:**
   - –ê–¥—Ä–µ—Å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü—É `addresses`
   - –ü—Ä–∏–≤—è–∑–∞–Ω –∫ `user_id`

3. **–ü—Ä–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–∏ –∑–∞–∫–∞–∑–∞:**
   - –°–æ–∑–¥–∞–µ—Ç—Å—è –∑–∞–ø–∏—Å—å –≤ `orders`
   - –ü–æ–∑–∏—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `order_items`
   - –û–±–Ω–æ–≤–ª—è—é—Ç—Å—è –±–æ–Ω—É—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

4. **–ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö:**
   - –í—Å–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ –ë–î
   - –ï—Å–ª–∏ –ë–î –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è fallback –Ω–∞ —Ñ–∞–π–ª

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ü–∞—Ä–æ–ª—å –æ—Ç –ë–î**: –°–æ—Ö—Ä–∞–Ω–∏ –µ–≥–æ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ! –ë–µ–∑ –Ω–µ–≥–æ –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –ë–î.

2. **–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω Supabase**:
   - 500 –ú–ë –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
   - –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è —Ç—ã—Å—è—á –∑–∞–∫–∞–∑–æ–≤
   - –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –±–æ–ª—å—à–µ ‚Äî –º–æ–∂–Ω–æ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ –ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω

3. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: 
   - `DATABASE_URL` —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–∞—Ä–æ–ª—å ‚Äî –Ω–µ –ø—É–±–ª–∏–∫—É–π –µ–≥–æ –≤ GitHub!
   - –í Render.com –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∑–∞—â–∏—â–µ–Ω—ã

4. **Fallback**: –ï—Å–ª–∏ `DATABASE_URL` –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ñ–∞–π–ª–æ–≤—ã–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º.

---

## üÜò –ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### "–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î"
- –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ `DATABASE_URL` –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω
- –£–±–µ–¥–∏—Å—å, —á—Ç–æ –ø–∞—Ä–æ–ª—å –∑–∞–º–µ–Ω–µ–Ω –≤ —Å—Ç—Ä–æ–∫–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –ø—Ä–æ–µ–∫—Ç –≤ Supabase –∞–∫—Ç–∏–≤–µ–Ω

### "–¢–∞–±–ª–∏—Ü—ã –Ω–µ —Å–æ–∑–¥–∞–Ω—ã"
- –í—ã–ø–æ–ª–Ω–∏ SQL –∏–∑ `database/schema.sql` –µ—â–µ —Ä–∞–∑
- –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –Ω–µ—Ç –æ—à–∏–±–æ–∫ –≤ SQL Editor

### "–î–∞–Ω–Ω—ã–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è"
- –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –≤ Render.com
- –£–±–µ–¥–∏—Å—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `DATABASE_URL` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞
- –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏–ª—Å—è –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π

---

## üìù –ß—Ç–æ –¥–∞–ª—å—à–µ?

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ë–î —Ç—ã —Å–º–æ–∂–µ—à—å:
- ‚úÖ –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –≤—Å–µ –∑–∞–∫–∞–∑—ã –≤ Supabase
- ‚úÖ –í–∏–¥–µ—Ç—å –∞–¥—Ä–µ—Å–∞ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ SQL –∑–∞–ø—Ä–æ—Å—ã
- ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ—Ç—á–µ—Ç–æ–≤
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –∑–∞–∫–∞–∑–∞—Ö (—á–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞)

–ì–æ—Ç–æ–≤–æ! üéâ

