# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ SQL —Å—Ö–µ–º—ã

## –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ psql (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

### –®–∞–≥ 1: –ü–æ–ª—É—á–∏ —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏–∑ Render.com

1. –ó–∞–π–¥–∏ –≤ Render.com ‚Üí —Ç–≤–æ—è –±–∞–∑–∞ `flowbox_db`
2. –ü–µ—Ä–µ–π–¥–∏ –≤ —Ä–∞–∑–¥–µ–ª **"Info"** –∏–ª–∏ **"Connections"**
3. –°–∫–æ–ø–∏—Ä—É–π **Internal Database URL** (–∏–ª–∏ External, –µ—Å–ª–∏ –Ω—É–∂–µ–Ω –≤–Ω–µ—à–Ω–∏–π –¥–æ—Å—Ç—É–ø)
4. –°—Ç—Ä–æ–∫–∞ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:
   ```
   postgresql://flowbox_db_user:password@dpg-xxxxx-a.oregon-postgres.render.com/flowbox_db
   ```

### –®–∞–≥ 2: –í—ã–ø–æ–ª–Ω–∏ SQL —Å—Ö–µ–º—É

**–í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ —Ñ–∞–π–ª (–ø—Ä–æ—â–µ –≤—Å–µ–≥–æ)**

```bash
# –ó–∞–º–µ–Ω–∏ DB_URL –Ω–∞ —Å–≤–æ—é —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
psql "postgresql://flowbox_db_user:password@dpg-xxxxx-a.oregon-postgres.render.com/flowbox_db" -f database/schema.sql
```

**–í–∞—Ä–∏–∞–Ω—Ç B: –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ**

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Å—å –∫ –±–∞–∑–µ
psql "postgresql://flowbox_db_user:password@dpg-xxxxx-a.oregon-postgres.render.com/flowbox_db"

# –í psql –≤—ã–ø–æ–ª–Ω–∏:
\i database/schema.sql

# –ò–ª–∏ —Å–∫–æ–ø–∏—Ä—É–π –≤–µ—Å—å —Ç–µ–∫—Å—Ç –∏–∑ database/schema.sql –∏ –≤—Å—Ç–∞–≤—å –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª
```

**–í–∞—Ä–∏–∞–Ω—Ç C: –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç**

```bash
# –ó–∞–ø—É—Å—Ç–∏ —Å–∫—Ä–∏–ø—Ç (–æ–Ω –ø–æ–ø—Ä–æ—Å–∏—Ç –≤–≤–µ—Å—Ç–∏ —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è)
./database/execute-schema.sh
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Å—å –∫ –±–∞–∑–µ
psql "postgresql://flowbox_db_user:password@dpg-xxxxx-a.oregon-postgres.render.com/flowbox_db"

# –í—ã–≤–µ–¥–∏ —Å–ø–∏—Å–æ–∫ —Ç–∞–±–ª–∏—Ü
\dt

# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ç–∞–±–ª–∏—Ü—ã:
# - users
# - addresses
# - orders
# - order_items
```

---

## –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ Render.com Dashboard (–µ—Å–ª–∏ psql –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)

1. –ó–∞–π–¥–∏ –≤ Render.com ‚Üí —Ç–≤–æ—è –±–∞–∑–∞ `flowbox_db`
2. –ü–µ—Ä–µ–π–¥–∏ –≤ —Ä–∞–∑–¥–µ–ª **"Connect"** –∏–ª–∏ **"Shell"**
3. –û—Ç–∫—Ä–æ–π **"psql"** –∏–ª–∏ **"SQL Editor"**
4. –°–∫–æ–ø–∏—Ä—É–π –≤–µ—Å—å —Ç–µ–∫—Å—Ç –∏–∑ —Ñ–∞–π–ª–∞ `database/schema.sql`
5. –í—Å—Ç–∞–≤—å –∏ –≤—ã–ø–æ–ª–Ω–∏

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è SQL —Å—Ö–µ–º—ã –ø—Ä–æ–≤–µ—Ä—å:

```sql
-- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∞–±–ª–∏—Ü
SELECT table_name 
FROM information_schema.tables 
WHERE table_schema = 'public';

-- –î–æ–ª–∂–Ω—ã –±—ã—Ç—å:
-- users
-- addresses  
-- orders
-- order_items

-- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω–¥–µ–∫—Å–æ–≤
SELECT indexname FROM pg_indexes WHERE tablename IN ('users', 'addresses', 'orders', 'order_items');

-- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤
SELECT trigger_name FROM information_schema.triggers;
```

---

## –ß—Ç–æ –¥–∞–ª—å—à–µ?

1. ‚úÖ –£–±–µ–¥–∏—Å—å, —á—Ç–æ `DATABASE_URL` –¥–æ–±–∞–≤–ª–µ–Ω –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Render.com (–≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Ç–≤–æ–µ–≥–æ –≤–µ–±-—Å–µ—Ä–≤–∏—Å–∞ —Å –±–æ—Ç–æ–º)
2. ‚úÖ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å –≤ Render.com (–∏–ª–∏ –æ–Ω –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
3. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π: –æ—Ç–∫—Ä–æ–π MiniApp, –¥–æ–±–∞–≤—å —Ç–æ–≤–∞—Ä –≤ –∫–æ—Ä–∑–∏–Ω—É, —Å–æ–∑–¥–∞–π –∑–∞–∫–∞–∑
4. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å –≤ Render.com ‚Üí –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö ‚Üí Table Editor, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –ø–æ—è–≤–∏–ª–∏—Å—å

---

## –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫

### –û—à–∏–±–∫–∞: "relation already exists"
–¢–∞–±–ª–∏—Ü—ã —É–∂–µ —Å–æ–∑–¥–∞–Ω—ã. –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –º–æ–∂–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å.

### –û—à–∏–±–∫–∞: "permission denied"
–ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Å –ø–∞—Ä–æ–ª–µ–º.

### –û—à–∏–±–∫–∞: "could not connect to server"
–ü—Ä–æ–≤–µ—Ä—å:
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —Å—Ç—Ä–æ–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- –ß—Ç–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≤ Render.com –≤ —Å—Ç–∞—Ç—É—Å–µ "Available"
- –ß—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å Internal URL (–µ—Å–ª–∏ –ø–æ–¥–∫–ª—é—á–∞–µ—à—å—Å—è –∏–∑ Render) –∏–ª–∏ External URL (–µ—Å–ª–∏ —Å –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ Mac)

