<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>FlowBox - –ú–∞–≥–∞–∑–∏–Ω —Ü–≤–µ—Ç–æ–≤</title>
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#FF69B4">
    <link rel="stylesheet" href="styles.css?v=3.17">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script>
        // –û–ø—Ä–µ–¥–µ–ª—è–µ–º, –Ω—É–∂–Ω–æ –ª–∏ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å –º–∏–Ω–∏-–∞–ø–ø
        // –ù–∞ –¥–µ—Å–∫—Ç–æ–ø–µ (Telegram Desktop/Web) –ù–ï —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º, –æ—Å—Ç–∞–≤–ª—è–µ–º –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Ä–µ–∂–∏–º
        (function() {
            if (window.Telegram && window.Telegram.WebApp) {
                const tg = window.Telegram.WebApp;
                const platform = (tg.platform || '').toLowerCase();
                const userAgent = navigator.userAgent.toLowerCase();
                
                // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –¥–µ—Å–∫—Ç–æ–ø –±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–æ
                const isDesktop = platform.includes('desktop') || 
                                 platform.includes('web') ||
                                 userAgent.includes('windows') ||
                                 userAgent.includes('macintosh') ||
                                 userAgent.includes('linux') ||
                                 (window.innerWidth > 768 && window.innerHeight < 1200); // –®–∏—Ä–æ–∫–∏–π –∏ –Ω–µ–≤—ã—Å–æ–∫–∏–π = –¥–µ—Å–∫—Ç–æ–ø
                
                console.log('[init] Platform:', platform, 'isDesktop:', isDesktop, 'viewport:', window.innerWidth, 'x', window.innerHeight);
                
                // –ù–ï —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ - –æ—Å—Ç–∞–≤–ª—è–µ–º –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Ä–µ–∂–∏–º
                if (isDesktop) {
                    console.log('[init] –î–µ—Å–∫—Ç–æ–ø –æ–±–Ω–∞—Ä—É–∂–µ–Ω, –ù–ï —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º –º–∏–Ω–∏-–∞–ø–ø');
                    // –Ø–≤–Ω–æ –Ω–µ –≤—ã–∑—ã–≤–∞–µ–º tg.expand() –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ
                } else {
                    console.log('[init] –ú–æ–±–∏–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º –º–∏–Ω–∏-–∞–ø–ø');
                    // –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
                    if (typeof tg.expand === 'function') {
                        tg.expand();
                    }
                }
            }
        })();
    </script>
</head>
<body>
    <div class="app">
        <!-- Header -->
        <header class="header">
            <div class="logo-wrapper" onclick="switchTab('menuTab')" style="cursor: pointer;">
                <img src="/logo2.jpg?v=5" alt="FlowBox" class="logo" id="logoImg">
                <h1 id="logoFallback" style="display:none;">üå∏ FlowBox</h1>
            </div>
        </header>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <main class="main-content" id="mainContent">
            <!-- –í–∫–ª–∞–¥–∫–∞: –ú–µ–Ω—é -->
            <div class="tab-content active" id="menuTab">
                <!-- –§–∏–ª—å—Ç—Ä—ã -->
                <div class="filters-container">
                    <!-- –ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤ (–∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –±–æ–ª—å—à–∏–µ, —Ä–æ–∑–æ–≤–∞—è –∑–∞–ª–∏–≤–∫–∞ –ø—Ä–∏ –≤—ã–±–æ—Ä–µ) -->
                    <div class="filter-row filter-row-large" id="categoryFilters">
                        <button class="filter-btn filter-btn-large active" data-filter="all" data-category="type">–í—Å–µ</button>
                        <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                    
                    <!-- –í—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤ (—Ü–≤–µ—Ç–∞, —Å–µ—Ä–∞—è –æ–±–≤–æ–¥–∫–∞) -->
                    <div class="filter-row filter-row-small" id="colorFilters">
                        <!-- –¶–≤–µ—Ç–∞ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                    
                    <!-- –¢—Ä–µ—Ç—å—è —Å—Ç—Ä–æ–∫–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤ (–∫–∞—á–µ—Å—Ç–≤–∞, —Å–µ—Ä–∞—è –æ–±–≤–æ–¥–∫–∞) -->
                    <div class="filter-row filter-row-small" id="qualityFilters">
                        <!-- –ö–∞—á–µ—Å—Ç–≤–∞ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>
                
                <!-- –ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤ -->
                <div class="products-container" id="productsContainer">
                    <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
                
                <!-- –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–π—Ç–∏ –≤ –∫–æ—Ä–∑–∏–Ω—É (–ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ç–æ–≤–∞—Ä–∞) -->
                <div class="go-to-cart-fixed" id="goToCartFixed" style="display: none;">
                    <button class="go-to-cart-btn-small" onclick="switchTab('cartTab')">
                        <div class="go-to-cart-price"><span id="fixedCartTotal">0</span> <span class="ruble">‚ÇΩ</span></div>
                        <div class="go-to-cart-label">–í –∫–æ—Ä–∑–∏–Ω—É</div>
                    </button>
                </div>
            </div>

            <!-- –í–∫–ª–∞–¥–∫–∞: –ö–æ—Ä–∑–∏–Ω–∞ -->
            <div class="tab-content" id="cartTab">
                <div class="cart-page">
                    <!-- –ü—É—Å—Ç–∞—è –∫–æ—Ä–∑–∏–Ω–∞ -->
                    <div class="empty-cart-container" id="emptyCartContainer" style="display: none;">
                        <p class="empty-cart-text">–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</p>
                        <button class="go-to-catalog-btn" onclick="switchTab('menuTab')">–ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–∞—Ç–∞–ª–æ–≥</button>
                    </div>
                    
                    <!-- –ö–æ—Ä–∑–∏–Ω–∞ —Å —Ç–æ–≤–∞—Ä–∞–º–∏ -->
                    <div class="cart-with-items" id="cartWithItems" style="display: none;">
                        <div class="cart-items-list" id="cartItemsList"></div>
                        
                        <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã -->
                        <div class="additional-products-section">
                            <div class="additional-products-title">–î–æ–±–∞–≤–∏—Ç—å –∫ –∑–∞–∫–∞–∑—É</div>
                            <div class="additional-products-carousel" id="additionalProductsCarousel">
                                <!-- –¢–æ–≤–∞—Ä—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                            </div>
                        </div>
                        
                        <!-- –ò—Ç–æ–≥–æ -->
                        <div class="cart-final-total">
                            <div class="final-total-details">
                                <div class="total-detail-row">
                                    <span class="total-detail-label">–°—Ç–æ–∏–º–æ—Å—Ç—å —Ç–æ–≤–∞—Ä–æ–≤</span>
                                    <span class="total-detail-value" id="flowersTotalAmount">0 ‚ÇΩ</span>
                                </div>
                                <div class="total-detail-row">
                                    <div class="total-detail-label-with-help">
                                        <span class="total-detail-label">–°–±–æ—Ä—ã</span>
                                        <button class="help-icon-btn" id="serviceFeeHelpBtn" type="button">?</button>
                                    </div>
                                    <span class="total-detail-value" id="serviceFeeAmount">0 ‚ÇΩ</span>
                                </div>
                            </div>
                            <div class="final-total-row">
                                <span>–ò—Ç–æ–≥–æ:</span>
                                <span class="final-total-amount" id="finalTotalAmount">0 <span class="ruble-sign">‚ÇΩ</span></span>
                            </div>
                            <button class="checkout-btn-final" id="checkoutBtnFinal">–ü–µ—Ä–µ–π—Ç–∏ –∫ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—é</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- –í–∫–ª–∞–¥–∫–∞: –ü—Ä–æ—Ñ–∏–ª—å -->
            <div class="tab-content" id="profileTab">
                <div class="profile-page">
                    <div class="profile-header-new">
                        <img id="profileAvatarImg" src="" alt="Avatar" class="profile-avatar-img" style="display: none;">
                        <div class="profile-avatar-fallback" id="profileAvatarFallback">
                            <span id="profileInitial">üë§</span>
                        </div>
                        <div class="profile-name-wrapper">
                            <h2 id="profileName">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</h2>
                            <button class="profile-edit-icon-btn" id="editProfileBtn" title="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--primary-color)" stroke-width="2">
                                    <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                    <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                                </svg>
                            </button>
                        </div>
                    </div>
                    
                    <!-- –ö–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω -->
                    <div class="profile-section">
                        <button class="add-to-home-screen-btn" id="addToHomeScreenBtn">
                            <span class="add-to-home-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <!-- –ö—Ä—ã—à–∞ –¥–æ–º–∏–∫–∞ -->
                                    <path d="M3 12l9-9 9 9"></path>
                                    <!-- –°—Ç–µ–Ω—ã –¥–æ–º–∏–∫–∞ -->
                                    <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-7"></path>
                                    <!-- –ü–ª—é—Å –≤–Ω—É—Ç—Ä–∏ –¥–æ–º–∏–∫–∞ (–ø–æ —Ü–µ–Ω—Ç—Ä—É) -->
                                    <line x1="12" y1="14" x2="12" y2="18"></line>
                                    <line x1="10" y1="16" x2="14" y2="16"></line>
                                </svg>
                            </span>
                            <div class="add-to-home-content">
                                <span class="add-to-home-text">–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω</span>
                            </div>
                        </button>
                    </div>
                    
                    <!-- –ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–∫–∞–∑—ã -->
                    <div class="profile-section">
                        <h3 class="section-title">–ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–∫–∞–∑—ã</h3>
                        <div id="activeOrders">
                            <p class="no-orders">–£ –≤–∞—Å –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤</p>
                        </div>
                    </div>
                    
                    <!-- –ê–¥—Ä–µ—Å–∞ –¥–æ—Å—Ç–∞–≤–∫–∏ -->
                    <div class="profile-section">
                        <h3 class="section-title">–ê–¥—Ä–µ—Å–∞ –¥–æ—Å—Ç–∞–≤–∫–∏</h3>
                        <div class="delivery-addresses-list" id="deliveryAddressesList">
                            <p class="no-addresses">–£ –≤–∞—Å –Ω–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –∞–¥—Ä–µ—Å–æ–≤ –¥–æ—Å—Ç–∞–≤–∫–∏</p>
                        </div>
                    </div>
                    
                    <!-- –ö–Ω–æ–ø–∫–∏ –º–µ–Ω—é -->
                    <div class="profile-menu-buttons">
                        <button class="profile-menu-btn" id="orderHistoryBtn">
                            <span class="menu-btn-icon">üì¶</span>
                            <span class="menu-btn-text">–ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤</span>
                            <span class="menu-btn-arrow">‚Ä∫</span>
                        </button>
                        <button class="profile-menu-btn" id="supportBtn">
                            <span class="menu-btn-icon">üí¨</span>
                            <span class="menu-btn-text">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</span>
                            <span class="menu-btn-arrow">‚Ä∫</span>
                        </button>
                    </div>
                </div>
            </div>
            
            
            <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è -->
            <div class="modal-overlay" id="profileEditModal" style="display: none;">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</h3>
                        <button class="modal-close" id="closeProfileEditModal">‚úï</button>
                    </div>
                    <form class="profile-edit-form" id="profileEditForm">
                        <div class="form-group" id="anchor-editProfileName">
                            <label>–ò–º—è</label>
                            <input type="text" id="editProfileName" required placeholder="–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤">
                        </div>
                        <div class="form-group" id="anchor-editProfilePhone">
                            <label>–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞</label>
                            <input type="tel" id="editProfilePhone" required placeholder="+7 (999) 123-45-67">
                        </div>
                        <div class="form-group" id="anchor-editProfileEmail">
                            <label>–ü–æ—á—Ç–∞</label>
                            <input type="email" id="editProfileEmail" required placeholder="example@mail.com">
                        </div>
                        <button type="submit" class="submit-address-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    </form>
                </div>
            </div>
            
            <!-- –í–∫–ª–∞–¥–∫–∞: –ê–¥—Ä–µ—Å -->
            <div class="tab-content" id="addressTab">
                <div class="address-page">
                    <div class="address-page-header">
                        <h2 id="addressPageTitle">–ù–æ–≤—ã–π –∞–¥—Ä–µ—Å</h2>
                    </div>
                    <div class="address-page-body">
                        <form class="address-form" id="addressForm">
                            <div class="form-group">
                                <label>–ì–æ—Ä–æ–¥ <span class="required">*</span></label>
                                <input type="text" id="addressCity" required placeholder="–í–≤–µ–¥–∏—Ç–µ –≥–æ—Ä–æ–¥" list="cities" value="–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥">
                                <datalist id="cities">
                                    <option value="–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥">
                                </datalist>
                                <div class="address-error" id="addressError" style="display: none;">
                                    –ò–∑–≤–∏–Ω–∏—Ç–µ, –º—ã –ø–æ–∫–∞ –Ω–µ –¥–æ—Å—Ç–∞–≤–ª—è–µ–º –≤ —ç—Ç–æ—Ç –≥–æ—Ä–æ–¥
                                </div>
                            </div>
                            <div class="form-group">
                                <label>–£–ª–∏—Ü–∞, –¥–æ–º <span class="required">*</span></label>
                                <input type="text" id="addressStreet" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä –ù–µ–≤—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç, 10–∫2">
                            </div>
                            <div class="address-row">
                                <div class="form-group form-group-half">
                                    <label>–ö–≤–∞—Ä—Ç–∏—Ä–∞/–û—Ñ–∏—Å</label>
                                    <input type="text" id="addressApartment" placeholder="‚Ññ">
                                </div>
                                <div class="form-group form-group-half">
                                    <label>–≠—Ç–∞–∂</label>
                                    <input type="text" id="addressFloor" placeholder="‚Ññ">
                                </div>
                            </div>
                            <div class="address-row">
                                <div class="form-group form-group-half">
                                    <label>–ü–æ–¥—ä–µ–∑–¥</label>
                                    <input type="text" id="addressEntrance" placeholder="‚Ññ">
                                </div>
                                <div class="form-group form-group-half">
                                    <label>–î–æ–º–æ—Ñ–æ–Ω</label>
                                    <input type="text" id="addressIntercom" placeholder="–ö–æ–¥ –¥–æ–º–æ—Ñ–æ–Ω–∞">
                                </div>
                            </div>
                            <div class="form-group">
                                <label>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</label>
                                <textarea id="addressComment" placeholder="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è –∫—É—Ä—å–µ—Ä–∞"></textarea>
                            </div>
                        </form>
                    </div>
                    <div class="address-page-footer">
                        <button type="button" class="delete-address-btn-outline" id="deleteAddressBtn" style="display: none;">–£–¥–∞–ª–∏—Ç—å</button>
                        <button type="submit" form="addressForm" class="submit-address-btn" id="saveAddressBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    </div>
                </div>
            </div>
            
            <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∏—Å—Ç–æ—Ä–∏–∏ –∑–∞–∫–∞–∑–æ–≤ -->
            <!-- –í–∫–ª–∞–¥–∫–∞: –ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤ -->
            <div class="tab-content" id="orderHistoryTab">
                <div class="order-history-page">
                    <div class="order-history-header">
                        <h2>–ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤</h2>
                    </div>
                    <div class="order-history-list" id="orderHistoryList">
                        <p class="no-orders">–ó–∞–∫–∞–∑–æ–≤ –ø–æ–∫–∞ –Ω–µ—Ç</p>
                    </div>
                </div>
            </div>
            
            <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ -->
            <div class="modal-overlay" id="supportModal" style="display: none;">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>–ü–æ–¥–¥–µ—Ä–∂–∫–∞</h3>
                        <button class="modal-close" id="closeSupportModal">‚úï</button>
                    </div>
                    <div class="support-content">
                        <p>–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –±–æ—Ç–∞ –∏ –≤—ã–±–µ—Ä–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É <strong>/support</strong></p>
                    </div>
                </div>
            </div>
            
            <!-- –í–∫–ª–∞–¥–∫–∞: –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞ (–ø–æ—ç—Ç–∞–ø–Ω–∞—è —Ñ–æ—Ä–º–∞) -->
            <div class="tab-content" id="orderTab">
                <div class="order-page-header">
                    <h2 class="order-page-title">–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞</h2>
                </div>
                
                <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ -->
                <div class="checkout-progress">
                    <div class="progress-step active" data-step="1">
                        <div class="step-number">1</div>
                        <div class="step-label">–ü–æ–ª—É—á–∞—Ç–µ–ª—å</div>
                    </div>
                    <div class="progress-step" data-step="2">
                        <div class="step-number">2</div>
                        <div class="step-label">–î–æ—Å—Ç–∞–≤–∫–∞</div>
                    </div>
                    <div class="progress-step" data-step="3">
                        <div class="step-number">3</div>
                        <div class="step-label">–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è</div>
                    </div>
                    <div class="progress-step" data-step="4">
                        <div class="step-number">4</div>
                        <div class="step-label">–ò—Ç–æ–≥–æ</div>
                    </div>
                </div>
                
                <!-- –í–∫–ª–∞–¥–∫–∞ 1: –ü–æ–ª—É—á–∞—Ç–µ–ª—å -->
                <div class="checkout-step active" id="checkoutStep1">
                    <div class="checkout-step-content">
                        <h3 class="checkout-step-title">–ü–æ–ª—É—á–∞—Ç–µ–ª—å</h3>
                        <div class="form-group" id="anchor-customerName">
                            <label>–ò–º—è <span class="required">*</span></label>
                            <input type="text" id="customerName" required placeholder="–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤">
                        </div>
                        <div class="form-group" id="anchor-customerPhone">
                            <label>–¢–µ–ª–µ—Ñ–æ–Ω <span class="required">*</span></label>
                            <input type="tel" id="customerPhone" required placeholder="+7 (999) 123-45-67">
                        </div>
                        <button type="button" class="checkout-continue-btn" id="continueStep1">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
                    </div>
                </div>
                
                <!-- –í–∫–ª–∞–¥–∫–∞ 2: –î–æ—Å—Ç–∞–≤–∫–∞ -->
                <div class="checkout-step" id="checkoutStep2">
                    <div class="checkout-step-content">
                        <h3 class="checkout-step-title">–î–æ—Å—Ç–∞–≤–∫–∞</h3>
                        
                        <!-- –°–ø–∏—Å–æ–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –∞–¥—Ä–µ—Å–æ–≤ -->
                        <div id="checkoutAddressesList" class="checkout-addresses-list" style="display: none;">
                            <!-- –ê–¥—Ä–µ—Å–∞ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                        </div>
                        
                        <!-- –ö–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –∞–¥—Ä–µ—Å -->
                        <button type="button" class="checkout-add-address-btn" id="addNewAddressBtn" style="display: none;">
                            –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –∞–¥—Ä–µ—Å
                        </button>
                        
                        <!-- –§–æ—Ä–º–∞ –≤–≤–æ–¥–∞ –∞–¥—Ä–µ—Å–∞ (—Å–∫—Ä—ã—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –µ—Å–ª–∏ –µ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –∞–¥—Ä–µ—Å–∞) -->
                        <div id="checkoutAddressForm" class="checkout-address-form">
                            <div class="form-group" id="anchor-orderAddressCity">
                                <label>–ì–æ—Ä–æ–¥ <span class="required">*</span></label>
                                <input type="text" id="orderAddressCity" required value="–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥" readonly>
                            </div>
                            <div class="form-group" id="anchor-orderAddressStreet">
                                <label>–£–ª–∏—Ü–∞, –¥–æ–º <span class="required">*</span></label>
                                <input type="text" id="orderAddressStreet" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä –ù–µ–≤—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç, 10–∫2">
                            </div>
                            <div class="address-row">
                                <div class="form-group form-group-half">
                                    <label>–ö–≤–∞—Ä—Ç–∏—Ä–∞/–û—Ñ–∏—Å</label>
                                    <input type="text" id="orderAddressApartment" placeholder="‚Ññ">
                                </div>
                                <div class="form-group form-group-half">
                                    <label>–≠—Ç–∞–∂</label>
                                    <input type="text" id="orderAddressFloor" placeholder="‚Ññ">
                                </div>
                            </div>
                            <div class="address-row">
                                <div class="form-group form-group-half">
                                    <label>–ü–æ–¥—ä–µ–∑–¥</label>
                                    <input type="text" id="orderAddressEntrance" placeholder="‚Ññ">
                                </div>
                                <div class="form-group form-group-half">
                                    <label>–î–æ–º–æ—Ñ–æ–Ω</label>
                                    <input type="text" id="orderAddressIntercom" placeholder="–ö–æ–¥ –¥–æ–º–æ—Ñ–æ–Ω–∞">
                                </div>
                            </div>
                            <div class="form-group">
                                <label>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</label>
                                <textarea id="orderAddressComment" placeholder="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è –∫—É—Ä—å–µ—Ä–∞"></textarea>
                            </div>
                        </div>
                        <button type="button" class="checkout-continue-btn" id="continueStep2">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
                    </div>
                </div>
                
                <!-- –í–∫–ª–∞–¥–∫–∞ 3: –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è -->
                <div class="checkout-step" id="checkoutStep3">
                    <div class="checkout-step-content">
                        <h3 class="checkout-step-title">–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –¥–æ—Å—Ç–∞–≤–∫–∏</h3>
                        <div class="form-group" id="anchor-deliveryDate">
                            <label>–î–∞—Ç–∞ –¥–æ—Å—Ç–∞–≤–∫–∏ <span class="required">*</span></label>
                            <!-- –°–∫—Ä—ã—Ç–æ–µ –ø–æ–ª–µ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä -->
                            <input type="hidden" id="deliveryDate" required>
                            <!-- –ö–∞—Å—Ç–æ–º–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å -->
                            <div class="custom-calendar" id="customCalendar">
                                <div class="calendar-header">
                                    <button type="button" class="calendar-nav-btn" id="calendarPrevMonth" aria-label="–ü—Ä–µ–¥—ã–¥—É—â–∏–π –º–µ—Å—è—Ü">
                                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                            <path d="M12.5 15L7.5 10L12.5 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                        </svg>
                                    </button>
                                    <div class="calendar-month-year" id="calendarMonthYear"></div>
                                    <button type="button" class="calendar-nav-btn" id="calendarNextMonth" aria-label="–°–ª–µ–¥—É—é—â–∏–π –º–µ—Å—è—Ü">
                                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                            <path d="M7.5 15L12.5 10L7.5 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                        </svg>
                                    </button>
                                </div>
                                <div class="calendar-weekdays">
                                    <div class="calendar-weekday">–ü–Ω</div>
                                    <div class="calendar-weekday">–í—Ç</div>
                                    <div class="calendar-weekday">–°—Ä</div>
                                    <div class="calendar-weekday">–ß—Ç</div>
                                    <div class="calendar-weekday">–ü—Ç</div>
                                    <div class="calendar-weekday">–°–±</div>
                                    <div class="calendar-weekday">–í—Å</div>
                                </div>
                                <div class="calendar-days" id="calendarDays"></div>
                            </div>
                        </div>
                        <div class="form-group" id="anchor-deliveryTime">
                            <label>–í—Ä–µ–º—è –¥–æ—Å—Ç–∞–≤–∫–∏ <span class="required">*</span></label>
                            <div class="delivery-time-options" id="deliveryTimeOptions">
                                <button type="button" class="time-slot-btn" data-time="10-12">10:00 - 12:00</button>
                                <button type="button" class="time-slot-btn" data-time="12-14">12:00 - 14:00</button>
                                <button type="button" class="time-slot-btn" data-time="14-16">14:00 - 16:00</button>
                                <button type="button" class="time-slot-btn" data-time="16-18">16:00 - 18:00</button>
                                <button type="button" class="time-slot-btn" data-time="18-20">18:00 - 20:00</button>
                                <button type="button" class="time-slot-btn" data-time="20-22">20:00 - 22:00</button>
                            </div>
                        </div>
                        
                        <!-- –û—Å—Ç–∞–≤–∏—Ç—å —É –¥–≤–µ—Ä–∏ -->
                        <div class="form-group" style="margin-top: 16px;">
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="checkbox" id="leaveAtDoorCheckbox" style="width: 20px; height: 20px; cursor: pointer;">
                                <span>–û—Å—Ç–∞–≤–∏—Ç—å —É –¥–≤–µ—Ä–∏</span>
                            </label>
                        </div>
                        
                        <button type="button" class="checkout-continue-btn" id="continueStep3">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
                    </div>
                </div>
                
                <!-- –í–∫–ª–∞–¥–∫–∞ 4: –ò—Ç–æ–≥–æ -->
                <div class="checkout-step" id="checkoutStep4">
                    <div class="checkout-step-content">
                        <h3 class="checkout-step-title">–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–∫–∞–∑</h3>
                        
                        <!-- –ü–æ–ª—É—á–∞—Ç–µ–ª—å (—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º—ã–π) -->
                        <div class="checkout-summary-item editable" id="editRecipient">
                            <div class="summary-item-content">
                                <div class="summary-item-label">–ü–æ–ª—É—á–∞—Ç–µ–ª—å</div>
                                <div class="summary-item-value" id="summaryRecipient" style="display: flex; flex-direction: column; gap: 4px;">
                                    <span id="summaryRecipientName">-</span>
                                    <span id="summaryRecipientPhone">-</span>
                                </div>
                            </div>
                            <button type="button" class="summary-edit-btn">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M9 18l6-6-6-6"/>
                                </svg>
                            </button>
                        </div>
                        
                        <!-- –ê–¥—Ä–µ—Å (—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º—ã–π) -->
                        <div class="checkout-summary-item editable" id="editAddress">
                            <div class="summary-item-content">
                                <div class="summary-item-label">–ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏</div>
                                <div class="summary-item-value" id="summaryAddress">-</div>
                            </div>
                            <button type="button" class="summary-edit-btn">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M9 18l6-6-6-6"/>
                                </svg>
                            </button>
                        </div>
                        
                        <!-- –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è (—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º—ã–µ –≤ —É–ø—Ä–æ—â–µ–Ω–Ω–æ–º —Å—Ü–µ–Ω–∞—Ä–∏–∏) -->
                        <div class="checkout-summary-item" id="summaryDateTimeContainer">
                            <div class="summary-item-content">
                                <div class="summary-item-label">–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –¥–æ—Å—Ç–∞–≤–∫–∏</div>
                                <div class="summary-item-value" id="summaryDateTime">-</div>
                                <div class="summary-item-value" id="summaryDateTimeInline" style="display: none;"></div>
                            </div>
                        </div>
                        
                        <!-- –ö–∞–ª–µ–Ω–¥–∞—Ä—å –∏ —Å–ª–æ—Ç—ã –≤—Ä–µ–º–µ–Ω–∏ (–¥–ª—è —É–ø—Ä–æ—â–µ–Ω–Ω–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è) -->
                        <div id="summaryDateTimePicker" style="display: none; margin-top: 16px;">
                            <div class="form-group" id="anchor-summaryDeliveryDate">
                                <label>–î–∞—Ç–∞ –¥–æ—Å—Ç–∞–≤–∫–∏ <span class="required">*</span></label>
                                <!-- –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º —Å–∫—Ä—ã—Ç–æ–µ –ø–æ–ª–µ deliveryDate -->
                                <div class="custom-calendar" id="summaryCustomCalendar">
                                    <div class="calendar-header">
                                        <button type="button" class="calendar-nav-btn" id="summaryCalendarPrevMonth" aria-label="–ü—Ä–µ–¥—ã–¥—É—â–∏–π –º–µ—Å—è—Ü">
                                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                                <path d="M12.5 15L7.5 10L12.5 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>
                                        </button>
                                        <div class="calendar-month-year" id="summaryCalendarMonthYear"></div>
                                        <button type="button" class="calendar-nav-btn" id="summaryCalendarNextMonth" aria-label="–°–ª–µ–¥—É—é—â–∏–π –º–µ—Å—è—Ü">
                                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                                <path d="M7.5 15L12.5 10L7.5 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>
                                        </button>
                                    </div>
                                    <div class="calendar-weekdays">
                                        <div class="calendar-weekday">–ü–Ω</div>
                                        <div class="calendar-weekday">–í—Ç</div>
                                        <div class="calendar-weekday">–°—Ä</div>
                                        <div class="calendar-weekday">–ß—Ç</div>
                                        <div class="calendar-weekday">–ü—Ç</div>
                                        <div class="calendar-weekday">–°–±</div>
                                        <div class="calendar-weekday">–í—Å</div>
                                    </div>
                                    <div class="calendar-days" id="summaryCalendarDays"></div>
                                </div>
                            </div>
                            <div class="form-group" id="anchor-summaryDeliveryTime">
                                <label>–í—Ä–µ–º—è –¥–æ—Å—Ç–∞–≤–∫–∏ <span class="required">*</span></label>
                                <div class="delivery-time-options" id="summaryDeliveryTimeOptions">
                                    <button type="button" class="time-slot-btn" data-time="10-12">10:00 - 12:00</button>
                                    <button type="button" class="time-slot-btn" data-time="12-14">12:00 - 14:00</button>
                                    <button type="button" class="time-slot-btn" data-time="14-16">14:00 - 16:00</button>
                                    <button type="button" class="time-slot-btn" data-time="16-18">16:00 - 18:00</button>
                                    <button type="button" class="time-slot-btn" data-time="18-20">18:00 - 20:00</button>
                                    <button type="button" class="time-slot-btn" data-time="20-22">20:00 - 22:00</button>
                                </div>
                            </div>
                            <div class="form-group" style="margin-top: 16px;">
                                <label for="simple-leave-at-door-checkbox" style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                    <input type="checkbox" id="simple-leave-at-door-checkbox" style="width: 20px; height: 20px; cursor: pointer;">
                                    <span>–û—Å—Ç–∞–≤–∏—Ç—å —É –¥–≤–µ—Ä–∏</span>
                                </label>
                            </div>
                        </div>
                        
                        <!-- –û—Å—Ç–∞–≤–∏—Ç—å —É –¥–≤–µ—Ä–∏ -->
                        <div class="checkout-summary-item">
                            <div class="summary-item-content">
                                <div class="summary-item-label">–û—Å—Ç–∞–≤–∏—Ç—å —É –¥–≤–µ—Ä–∏</div>
                                <div class="summary-item-value" id="summaryLeaveAtDoor">–ù–µ—Ç</div>
                            </div>
                        </div>
                        
                        <!-- –¶–µ–Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–∏ -->
                        <div class="checkout-summary-item">
                            <div class="summary-item-content">
                                <div class="summary-item-label">–î–æ—Å—Ç–∞–≤–∫–∞</div>
                                <div class="summary-item-value">500 ‚ÇΩ</div>
                            </div>
                        </div>
                        
                        <!-- –ö–æ—Ä–∑–∏–Ω–∞ -->
                        <div class="checkout-cart-summary">
                            <div class="checkout-cart-title">–ö–æ—Ä–∑–∏–Ω–∞</div>
                            <div class="checkout-cart-items" id="checkoutCartItems">
                                <!-- –¢–æ–≤–∞—Ä—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                            </div>
                        </div>
                        
                        <!-- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –∑–∞–∫–∞–∑—É -->
                        <div class="checkout-summary-item">
                            <div class="summary-item-content" style="flex-direction: column; align-items: flex-start; gap: 8px;">
                                <div class="summary-item-label">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</div>
                                <textarea id="orderCommentField" placeholder="–û—Å–æ–±—ã–µ –ø–æ–∂–µ–ª–∞–Ω–∏—è –∫ –∑–∞–∫–∞–∑—É" rows="3" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; font-size: 16px; font-family: inherit; resize: vertical; min-height: 80px;"></textarea>
                            </div>
                        </div>
                        
                        <!-- –ò—Ç–æ–≥–æ -->
                        <div class="checkout-final-total">
                            <div class="final-total-label">–ò—Ç–æ–≥–æ:</div>
                            <div class="final-total-amount" id="checkoutFinalTotal">0 ‚ÇΩ</div>
                        </div>
                        
                        <button type="button" class="submit-order-btn" id="submitOrderBtn">–û–ø–ª–∞—Ç–∏—Ç—å</button>
                    </div>
                </div>
            </div>
            
            <!-- –í–∫–ª–∞–¥–∫–∞: –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—É—á–∞—Ç–µ–ª—è -->
            <div class="tab-content" id="editRecipientTab" style="display: none;">
                <div class="address-page">
                    <div class="address-page-header">
                        <h2>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—É—á–∞—Ç–µ–ª—è</h2>
                    </div>
                    <div class="address-page-body">
                        <form class="address-form" id="editRecipientForm">
                            <div class="form-group" id="anchor-editRecipientName">
                                <label>–ò–º—è <span class="required">*</span></label>
                                <input type="text" id="editRecipientName" required placeholder="–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤">
                            </div>
                            <div class="form-group" id="anchor-editRecipientPhone">
                                <label>–¢–µ–ª–µ—Ñ–æ–Ω <span class="required">*</span></label>
                                <input type="tel" id="editRecipientPhone" required placeholder="+7 (999) 123-45-67">
                            </div>
                        </form>
                    </div>
                    <div class="address-page-footer">
                        <button type="submit" form="editRecipientForm" class="submit-address-btn" id="saveRecipientBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    </div>
                </div>
            </div>
            
            <!-- –í–∫–ª–∞–¥–∫–∞: –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–¥—Ä–µ—Å–∞ –¥–æ—Å—Ç–∞–≤–∫–∏ -->
            <div class="tab-content" id="editAddressTab" style="display: none;">
                <div class="address-page">
                    <div class="address-page-header">
                        <h2 id="editAddressPageTitle">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∞–¥—Ä–µ—Å</h2>
                    </div>
                    <div class="address-page-body">
                        <form class="address-form" id="editAddressForm">
                            <div class="form-group">
                                <label>–ì–æ—Ä–æ–¥ <span class="required">*</span></label>
                                <input type="text" id="editAddressCity" required placeholder="–í–≤–µ–¥–∏—Ç–µ –≥–æ—Ä–æ–¥" list="cities" value="–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥">
                                <datalist id="cities">
                                    <option value="–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥">
                                </datalist>
                                <div class="address-error" id="editAddressError" style="display: none;">
                                    –ò–∑–≤–∏–Ω–∏—Ç–µ, –º—ã –ø–æ–∫–∞ –Ω–µ –¥–æ—Å—Ç–∞–≤–ª—è–µ–º –≤ —ç—Ç–æ—Ç –≥–æ—Ä–æ–¥
                                </div>
                            </div>
                            <div class="form-group">
                                <label>–£–ª–∏—Ü–∞, –¥–æ–º <span class="required">*</span></label>
                                <input type="text" id="editAddressStreet" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä –ù–µ–≤—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç, 10–∫2">
                            </div>
                            <div class="address-row">
                                <div class="form-group form-group-half">
                                    <label>–ö–≤–∞—Ä—Ç–∏—Ä–∞/–û—Ñ–∏—Å</label>
                                    <input type="text" id="editAddressApartment" placeholder="‚Ññ">
                                </div>
                                <div class="form-group form-group-half">
                                    <label>–≠—Ç–∞–∂</label>
                                    <input type="text" id="editAddressFloor" placeholder="‚Ññ">
                                </div>
                            </div>
                            <div class="address-row">
                                <div class="form-group form-group-half">
                                    <label>–ü–æ–¥—ä–µ–∑–¥</label>
                                    <input type="text" id="editAddressEntrance" placeholder="‚Ññ">
                                </div>
                                <div class="form-group form-group-half">
                                    <label>–î–æ–º–æ—Ñ–æ–Ω</label>
                                    <input type="text" id="editAddressIntercom" placeholder="–ö–æ–¥ –¥–æ–º–æ—Ñ–æ–Ω–∞">
                                </div>
                            </div>
                            <div class="form-group">
                                <label>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</label>
                                <textarea id="editAddressComment" placeholder="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è –∫—É—Ä—å–µ—Ä–∞" rows="3"></textarea>
                            </div>
                        </form>
                    </div>
                    <div class="address-page-footer">
                        <button type="submit" form="editAddressForm" class="submit-address-btn" id="saveEditAddressBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    </div>
                </div>
            </div>
            
            <!-- –í–∫–ª–∞–¥–∫–∞: –ú–æ–∏ –∞–¥—Ä–µ—Å–∞ (–¥–ª—è –≤—ã–±–æ—Ä–∞/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ —à–∞–≥–µ 4) -->
            <div class="tab-content" id="myAddressesTab" style="display: none;">
                <div class="address-page">
                    <div class="address-page-header">
                        <h2>–ú–æ–∏ –∞–¥—Ä–µ—Å–∞</h2>
                    </div>
                    <div class="address-page-body">
                        <div class="addresses-list" id="myAddressesList">
                            <!-- –ê–¥—Ä–µ—Å–∞ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                        </div>
                    </div>
                    <div class="address-page-footer">
                        <button type="button" class="submit-address-btn" id="addNewAddressFromListBtn">+ –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –∞–¥—Ä–µ—Å</button>
                    </div>
                </div>
            </div>
            
            <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—ã–±–æ—Ä–∞ –∞–¥—Ä–µ—Å–∞ -->
            <div class="modal-overlay" id="addressSelectModal" style="display: none;">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>–í—ã–±–µ—Ä–∏—Ç–µ –∞–¥—Ä–µ—Å</h3>
                        <button class="modal-close" id="closeAddressModal">‚úï</button>
                    </div>
                    <div class="address-select-list" id="addressSelectList">
                        <!-- –ê–¥—Ä–µ—Å–∞ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                    <button type="button" class="add-new-address-btn" id="addNewAddressBtn">+ –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –∞–¥—Ä–µ—Å</button>
                </div>
            </div>
            
            <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω -->
            <div class="modal-overlay" id="addToHomeScreenModal" style="display: none;">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>–î–æ–±–∞–≤–∏—Ç—å –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω</h3>
                        <button class="modal-close" id="closeAddToHomeModal">‚úï</button>
                    </div>
                    <div class="add-to-home-content-modal">
                        <div class="add-to-home-instructions">
                            <h4>–î–ª—è iPhone:</h4>
                            <ol>
                                <li>–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–û—Ç–∫—Ä—ã—Ç—å –≤ Safari" –Ω–∏–∂–µ</li>
                                <li>–í Safari –Ω–∞–∂–º–∏—Ç–µ –∏–∫–æ–Ω–∫—É "–ü–æ–¥–µ–ª–∏—Ç—å—Å—è" (–∫–≤–∞–¥—Ä–∞—Ç —Å–æ —Å—Ç—Ä–µ–ª–∫–æ–π –≤–≤–µ—Ä—Ö)</li>
                                <li>–í—ã–±–µ—Ä–∏—Ç–µ "–ù–∞ —ç–∫—Ä–∞–Ω ¬´–î–æ–º–æ–π¬ª"</li>
                                <li>–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ</li>
                            </ol>
                            <h4>–î–ª—è Android –≤ Telegram:</h4>
                            <ol>
                                <li>–ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Ç—Ä–∏ —Ç–æ—á–∫–∏ (‚ãÆ) –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É Telegram</li>
                                <li>–í—ã–±–µ—Ä–∏—Ç–µ "–î–æ–±–∞–≤–∏—Ç—å –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω"</li>
                                <li>–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ</li>
                            </ol>
                            <h4>–î–ª—è Android –≤ –±—Ä–∞—É–∑–µ—Ä–µ:</h4>
                            <ol>
                                <li>–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ" –Ω–∏–∂–µ</li>
                                <li>–í –º–µ–Ω—é –±—Ä–∞—É–∑–µ—Ä–∞ –≤—ã–±–µ—Ä–∏—Ç–µ "–î–æ–±–∞–≤–∏—Ç—å –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω"</li>
                                <li>–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ</li>
                            </ol>
                        </div>
                        <button type="button" class="open-in-browser-btn" id="openInBrowserBtn">–û—Ç–∫—Ä—ã—Ç—å –≤ Safari</button>
                    </div>
                </div>
            </div>

            <!-- –í–∫–ª–∞–¥–∫–∞: –û –ø—Ä–æ–µ–∫—Ç–µ -->
            <div class="tab-content" id="aboutTab">
                <div class="about-page">
                    <div class="about-header">
                        <div class="about-logo">üå∏</div>
                        <h2>FlowBox</h2>
                        <p class="about-tagline">–ú–∞–≥–∞–∑–∏–Ω —Ü–≤–µ—Ç–æ–≤ —Å –¥–æ—Å—Ç–∞–≤–∫–æ–π</p>
                    </div>
                    <div class="about-content">
                        <div class="about-section">
                            <h3>–û –Ω–∞—Å</h3>
                            <p>FlowBox - —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è –∑–∞–∫–∞–∑–∞ —Ü–≤–µ—Ç–æ–≤ —Å –±—ã—Å—Ç—Ä–æ–π –¥–æ—Å—Ç–∞–≤–∫–æ–π. –ú—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º —Å–≤–µ–∂–∏–µ –±—É–∫–µ—Ç—ã –Ω–∞ –ª—é–±–æ–π –≤–∫—É—Å –∏ —Å–ª—É—á–∞–π.</p>
                        </div>
                        
                        <div class="about-section">
                            <h3>–ù–∞—à–∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞</h3>
                            <p>–°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–±–æ—Ä –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è:</p>
                            <ul class="advantages-list">
                                <li>–°–±–æ—Ä–∫–∞ –±—É–∫–µ—Ç–∞</li>
                                <li>–£–ø–∞–∫–æ–≤–∫–∞</li>
                                <li>–ù–∞–ª–æ–≥–∏</li>
                            </ul>
                        </div>
                        
                        <div class="about-section">
                            <h3>–î–æ—Å—Ç–∞–≤–∫–∞</h3>
                            <div class="faq-item">
                                <p class="faq-question">–ö–∞–∫ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –¥–æ—Å—Ç–∞–≤–∫–∞?</p>
                                <p class="faq-answer">–î–æ—Å—Ç–∞–≤–∫–∞ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –∫—É—Ä—å–µ—Ä–æ–º –≤ –¥–µ–Ω—å –∑–∞–∫–∞–∑–∞ –∏–ª–∏ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –¥–µ–Ω—å. –í—ã –º–æ–∂–µ—Ç–µ –≤—ã–±—Ä–∞—Ç—å —É–¥–æ–±–Ω–æ–µ –≤—Ä–µ–º—è –¥–æ—Å—Ç–∞–≤–∫–∏.</p>
                            </div>
                            <div class="faq-item">
                                <p class="faq-question">–í –∫–∞–∫–∏–µ —Ä–∞–π–æ–Ω—ã –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –¥–æ—Å—Ç–∞–≤–∫–∞?</p>
                                <p class="faq-answer">–ú—ã –¥–æ—Å—Ç–∞–≤–ª—è–µ–º –ø–æ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥—É –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –ö–ê–î, –¥–æ 10 –∫–º –∏ –¥–æ 20 –∫–º –æ—Ç –ö–ê–î. –¢–∞–∫–∂–µ –¥–æ—Å—Ç—É–ø–µ–Ω —Å–∞–º–æ–≤—ã–≤–æ–∑.</p>
                            </div>
                        </div>
                        
                        <div class="about-section">
                            <h3>–í–æ–∑–≤—Ä–∞—Ç</h3>
                            <div class="faq-item">
                                <p class="faq-question">–ú–æ–∂–Ω–æ –ª–∏ –≤–µ—Ä–Ω—É—Ç—å –∑–∞–∫–∞–∑?</p>
                                <p class="faq-answer">–ï—Å–ª–∏ —Ü–≤–µ—Ç—ã –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –æ–ø–∏—Å–∞–Ω–∏—é –∏–ª–∏ –∏–º–µ—é—Ç –¥–µ—Ñ–µ–∫—Ç—ã, –º—ã –≤–µ—Ä–Ω–µ–º –¥–µ–Ω—å–≥–∏ –∏–ª–∏ –∑–∞–º–µ–Ω–∏–º –±—É–∫–µ—Ç. –°–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ 24 —á–∞—Å–æ–≤ –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞.</p>
                            </div>
                        </div>
                        
                        <div class="about-section">
                            <h3>–£—Ö–æ–¥ –∑–∞ —Ü–≤–µ—Ç–∞–º–∏</h3>
                            <div class="faq-item">
                                <p class="faq-question">–ö–∞–∫ —É—Ö–∞–∂–∏–≤–∞—Ç—å –∑–∞ —Ü–≤–µ—Ç–∞–º–∏?</p>
                                <p class="faq-answer">–û–±—Ä–µ–∂—å—Ç–µ —Å—Ç–µ–±–ª–∏ –ø–æ–¥ —É–≥–ª–æ–º, –ø–æ—Å—Ç–∞–≤—å—Ç–µ –≤ —á–∏—Å—Ç—É—é –≤–æ–¥—É, –º–µ–Ω—è–π—Ç–µ –≤–æ–¥—É –∫–∞–∂–¥—ã–µ 2-3 –¥–Ω—è. –•—Ä–∞–Ω–∏—Ç–µ –±—É–∫–µ—Ç –≤ –ø—Ä–æ—Ö–ª–∞–¥–Ω–æ–º –º–µ—Å—Ç–µ, –∏–∑–±–µ–≥–∞–π—Ç–µ –ø—Ä—è–º—ã—Ö —Å–æ–ª–Ω–µ—á–Ω—ã—Ö –ª—É—á–µ–π.</p>
                            </div>
                        </div>
                        
                        <div class="about-section">
                            <h3>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h3>
                            <p>üìû –¢–µ–ª–µ—Ñ–æ–Ω: +7 (999) 123-45-67</p>
                            <p>üìß Email: info@flowbox.ru</p>
                            <p>üìç –ê–¥—Ä–µ—Å: –≥. –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥</p>
                            <p>üïê –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã: –ü–Ω-–í—Å: 9:00 - 21:00</p>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- –ù–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
        <nav class="bottom-nav">
            <button class="nav-item active" data-tab="menuTab">
                <img src="icons/menu.png" alt="–ö–∞—Ç–∞–ª–æ–≥" class="nav-icon" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                <svg class="nav-icon-fallback" style="display:none;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="3" y1="12" x2="21" y2="12"></line>
                    <line x1="3" y1="6" x2="21" y2="6"></line>
                    <line x1="3" y1="18" x2="21" y2="18"></line>
                </svg>
                <span class="nav-label">–ö–∞—Ç–∞–ª–æ–≥</span>
            </button>
            <button class="nav-item" data-tab="cartTab">
                <img src="icons/cart.png" alt="–ö–æ—Ä–∑–∏–Ω–∞" class="nav-icon" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                <svg class="nav-icon-fallback" style="display:none;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="9" cy="21" r="1"></circle>
                    <circle cx="20" cy="21" r="1"></circle>
                    <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                </svg>
                <span class="nav-label">–ö–æ—Ä–∑–∏–Ω–∞</span>
                <span class="nav-badge" id="navCartCount">0</span>
            </button>
            <button class="nav-item" data-tab="profileTab">
                <img src="icons/profile.png" alt="–ü—Ä–æ—Ñ–∏–ª—å" class="nav-icon" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                <svg class="nav-icon-fallback" style="display:none;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                    <circle cx="12" cy="7" r="4"></circle>
                </svg>
                <span class="nav-label">–ü—Ä–æ—Ñ–∏–ª—å</span>
            </button>
            <button class="nav-item" data-tab="aboutTab">
                <img src="icons/about.png" alt="–û –ø—Ä–æ–µ–∫—Ç–µ" class="nav-icon" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                <svg class="nav-icon-fallback" style="display:none;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="12" y1="16" x2="12" y2="12"></line>
                    <line x1="12" y1="8" x2="12.01" y2="8"></line>
                </svg>
                <span class="nav-label">–û –ø—Ä–æ–µ–∫—Ç–µ</span>
            </button>
        </nav>



        <!-- –£—Å–ø–µ—à–Ω–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ -->
        <!-- –í–∫–ª–∞–¥–∫–∞: –£—Å–ø–µ—à–Ω–∞—è –æ–ø–ª–∞—Ç–∞ -->
        <div class="tab-content" id="paymentSuccessTab" style="display: none;">
            <div class="payment-success-page">
                <div class="payment-success-container">
                    <div class="payment-success-icon">
                        <div class="success-checkmark">
                            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                                <polyline points="20 6 9 17 4 12"></polyline>
                            </svg>
                        </div>
                    </div>
                    <h1 class="payment-success-title">–û–ø–ª–∞—Ç–∞ —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—à–ª–∞!</h1>
                    <p class="payment-success-subtitle" id="paymentSuccessOrderText">–í–∞—à –∑–∞–∫–∞–∑ #<span id="paymentSuccessOrderId">-</span> —É–∂–µ –ø–µ—Ä–µ–¥–∞–Ω –≤ –æ–±—Ä–∞–±–æ—Ç–∫—É.</p>
                    
                    <div class="payment-success-steps">
                        <div class="payment-success-step completed">
                            <div class="step-icon completed">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                                    <polyline points="20 6 9 17 4 12"></polyline>
                                </svg>
                            </div>
                            <div class="step-text">–ó–∞–∫–∞–∑ –ø—Ä–∏–Ω—è—Ç –≤ –æ–±—Ä–∞–±–æ—Ç–∫—É</div>
                        </div>
                        <div class="payment-success-step">
                            <div class="step-icon">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
                                    <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>
                                    <line x1="12" y1="22.08" x2="12" y2="12"></line>
                                </svg>
                            </div>
                            <div class="step-text">–°–∫–æ—Ä–æ –Ω–∞—á–Ω–µ–º –ø–æ–¥–≥–æ—Ç–æ–≤–∫—É –∫ –æ—Ç–ø—Ä–∞–≤–∫–µ</div>
                        </div>
                        <div class="payment-success-step">
                            <div class="step-icon">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                                    <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
                                </svg>
                            </div>
                            <div class="step-text">–í—ã –ø–æ–ª—É—á–∏—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —Å—Ç–∞—Ç—É—Å–µ</div>
                        </div>
                    </div>
                    
                    <button class="payment-success-btn" id="trackOrderBtn">–û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å</button>
                    <p class="payment-success-countdown" id="paymentSuccessCountdown" style="display: none;">–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ —á–µ—Ä–µ–∑ <span id="countdownSeconds">25</span> —Å–µ–∫—É–Ω–¥...</p>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js?v=3.23"></script>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è —Å–±–æ—Ä–æ–≤ -->
    <div class="modal-overlay" id="serviceFeeHelpModal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>–ß—Ç–æ –≤—Ö–æ–¥–∏—Ç –≤ —Å–±–æ—Ä—ã</h3>
                <button class="modal-close" id="closeServiceFeeHelpModal">‚úï</button>
            </div>
            <div class="service-fee-help-content">
                <p>–í —Å–±–æ—Ä—ã –≤—Ö–æ–¥–∏—Ç:</p>
                <ul class="service-fee-list">
                    <li>–°–±–æ—Ä–∫–∞ –∑–∞–∫–∞–∑–∞</li>
                    <li>–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–æ—á–Ω–∞—è —É–ø–∞–∫–æ–≤–∫–∞</li>
                    <li>–ù–∞–ª–æ–≥–∏</li>
                </ul>
            </div>
        </div>
    </div>
</body>
</html>

